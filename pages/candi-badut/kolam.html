<!DOCTYPE html>
<html>
    <head>
        <title>Kolam</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
        <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
        <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>
        <script src="https://unpkg.com/aframe-proxy-event-component@2.1.0/dist/aframe-proxy-event-component.min.js"></script>

        <!-- Image link template to be reused. -->
        <script id="link" type="text/html">
<a-entity class="link"
          geometry="primitive: plane; height: 1; width: 1"
          material="shader: flat; src: ${thumb}"
          event-set__mouseenter="scale: 1.2 1.2 1"
          event-set__mouseleave="scale: 1 1 1"
          sound="on: click; src: #click-sound">
    <a-entity
              text="value: ${title};
                    align: center;
                    color: black;
                    width: 6"
              position="0 0 0.1">
            </a-entity>
            </a-entity>
        </script>

        <script>
            AFRAME.registerComponent('navigate-on-click', {
                schema: {
                    url: {default: ''}
                },

                init: function () {
                    var data = this.data;
                    var el = this.el;

                    el.addEventListener('click', function () {
                        window.location.href = data.url;
                    });
                }
            });        
        </script>
    </head>
    <body>
        <a-scene>
            <a-assets>
                <img 
                     id="kolam" 
                     src="https://cdn.glitch.com/89191af1-b909-46b0-9e28-43ac17c7c4b4%2Fcandi-badut-kolam.jpg?v=1596546781769">
                <img 
                     id="sisi-kanan-dalam" 
                     src="https://cdn.glitch.com/89191af1-b909-46b0-9e28-43ac17c7c4b4%2Fcandi-badut-sisi-kanan-dalam.jpg?v=1596546397934">
            </a-assets>

            <!--Memuat Foto 360-->
            <a-sky 
                   src="#kolam">
            </a-sky>

            <!--Agar user tidak bergerak menggunakan WASD-->
            <a-entity 
                      camera 
                      look-controls
                      position="0 1.6 0">
                <a-cursor
                          id="cursor"
                          animation__click="
                                            property: scale; 
                                            startEvents: click; 
                                            from: 0.1 0.1 0.1; 
                                            to: 1 1 1; dur: 150"
                          animation__fusing="
                                             property: fusing; 
                                             startEvents: fusing; 
                                             from: 1 1 1; 
                                             to: 0.1 0.1 0.1; 
                                             dur: 1500"
                          event-set__mouseenter="
                                                 _event: mouseenter; 
                                                 color: springgreen"
                          event-set__mouseleave="
                                                 _event: mouseleave; 
                                                 color: black"
                          raycaster="objects: .link">
                </a-cursor>
            </a-entity>

             <a-entity 
                      position="0 2 -2"
                      template="src: #link" 
                      data-thumb="#sisi-kanan-dalam" 
                      data-title="sisi-kanan-dalam"
                      navigate-on-click="url: ../../index.html">
            </a-entity>
        </a-scene>
    </body>
</html>